/* FILENAME: cutoff_data.js */

// 1. DATA STORE
const CUTOFF_DATA = {
    'vdo2025': [
        { cat: 'GEN', sub: 'GEN', marks: '166.5399', rem: 'SAME MARKS' },
        { cat: 'GEN', sub: 'FEM', marks: '161.0145', rem: '' },
        { cat: 'GEN', sub: 'WID.', marks: '111.2681', rem: '' },
        { cat: 'GEN', sub: 'EX',  marks: '141.6486', rem: '' },
        { cat: 'SC',  sub: 'GEN', marks: '151.8478', rem: '' },
        { cat: 'SC',  sub: 'FEM', marks: '144.6558', rem: '' },
        { cat: 'SC',  sub: 'WID.', marks: '91.6848',  rem: '' },
        { cat: 'SC',  sub: 'EX',  marks: '79.7645',  rem: '' },
        { cat: 'ST',  sub: 'GEN', marks: '148.0978', rem: '' },
        { cat: 'ST',  sub: 'FEM', marks: '144.1123', rem: '' },
        { cat: 'ST',  sub: 'WID.', marks: '84.0399',  rem: '' },
        { cat: 'ST',  sub: 'EX',  marks: '70.5797',  rem: '' },
        { cat: 'EWS', sub: 'GEN', marks: '161.5399', rem: 'SAME MARKS' },
        { cat: 'EWS', sub: 'FEM', marks: '158.4058', rem: '' },
        { cat: 'EWS', sub: 'WID.', marks: '105.4167', rem: '' },
        { cat: 'EWS', sub: 'EX',  marks: '132.7174', rem: '' },
        { cat: 'OBC', sub: 'GEN', marks: '164.7464', rem: '' },
        { cat: 'OBC', sub: 'FEM', marks: '157.9891', rem: '' },
        { cat: 'OBC', sub: 'WID.', marks: '107.3732', rem: '' },
        { cat: 'OBC', sub: 'EX',  marks: '133.5688', rem: '' },
        { cat: 'MBC', sub: 'GEN', marks: '158.5145', rem: '' },
        { cat: 'MBC', sub: 'FEM', marks: '157.6087', rem: '' },
        { cat: 'BLV', sub: '', marks: '99.3297', rem: '' },
        { cat: 'HI',  sub: '', marks: '78.2065', rem: '' },
        { cat: 'LD/CP', sub: '', marks: '126.6123', rem: '' },
        { cat: 'SP',  sub: '', marks: '141.3768', rem: '' },
    ],
    
    'patwari2025': [
        { cat: 'GEN', sub: 'GEN', marks: '249.2380', rem: '' },
        { cat: 'GEN', sub: 'FEM', marks: '235.2158', rem: '' },
        { cat: 'GEN', sub: 'WID.', marks: '121.3939', rem: '' },
        { cat: 'GEN', sub: 'DIV.', marks: '201.4007', rem: '' },
        { cat: 'GEN', sub: 'EX',  marks: '184.9111', rem: '' },
        { cat: 'EWS', sub: 'GEN', marks: '241.5566', rem: 'SAME MARKS' },
        { cat: 'EWS', sub: 'FEM', marks: '225.8819', rem: '' },
        { cat: 'EWS', sub: 'WID.', marks: '104.9198', rem: '' },
        { cat: 'EWS', sub: 'EX',  marks: '138.6297', rem: '' },
        { cat: 'SC', sub: 'GEN', marks: '226.7963', rem: '' },
        { cat: 'SC', sub: 'FEM', marks: '204.9607', rem: '' },
        { cat: 'SC', sub: 'WID.', marks: '72.1450', rem: '' },
        { cat: 'SC', sub: 'DIV.', marks: '165.2664', rem: '' },
        { cat: 'SC', sub: 'EX',  marks: '12.0149', rem: 'ALL' },
        { cat: 'ST', sub: 'GEN', marks: '223.5950', rem: '' },
        { cat: 'ST', sub: 'FEM', marks: '203.3621', rem: '' },
        { cat: 'ST', sub: 'WID.', marks: '63.4914', rem: '' },
        { cat: 'ST', sub: 'DIV.', marks: '159.6081', rem: '' },
        { cat: 'ST', sub: 'EX',  marks: '34.6089', rem: 'ALL' },
        { cat: 'OBC', sub: 'GEN', marks: '244.6640', rem: '' },
        { cat: 'OBC', sub: 'FEM', marks: '229.2246', rem: '' },
        { cat: 'OBC', sub: 'WID.', marks: '104.9505', rem: '' },
        { cat: 'OBC', sub: 'DIV.', marks: '188.7559', rem: '' },
        { cat: 'OBC', sub: 'EX',  marks: '166.7993', rem: '' },
        { cat: 'MBC', sub: 'GEN', marks: '236.6958', rem: '' },
        { cat: 'MBC', sub: 'FEM', marks: '206.0761', rem: '' },
        { cat: 'MBC', sub: 'WID.', marks: '96.4913', rem: '' },
        { cat: 'MBC', sub: 'EX',  marks: '141.4716', rem: '' },
        { cat: 'SAH', sub: 'GEN', marks: '90.5457', rem: '' },
        { cat: 'SAH', sub: 'FEM', marks: '80.8097', rem: 'AGAINST WID & DIV' },
        { cat: 'SAH', sub: 'WID', marks: 'NA', rem: '' },
        { cat: 'SAH', sub: 'DIV', marks: 'NA', rem: '' },
        { cat: 'SAH', sub: 'EX',  marks: 'NA', rem: '' },
        { cat: 'LD/CP', sub: '', marks: '162.4033', rem: '' },
        { cat: 'SP',    sub: '', marks: '200.0665', rem: '' },
    ],

    'fourthgrade2025': []
};

// 2. EXAM NAMES MAP
const EXAM_NAMES = {
    'vdo2025': 'VDO EXAM 2025',
    'patwari2025': 'PATWAR EXAM 2025',
    'fourthgrade2025': '4TH GRADE BHARTI 2025',
    'all': 'UNIVERSAL SEARCH'
};

// 3. LOGIC FUNCTION
function updateEmptyStateContent(examId) {
    const container = document.getElementById('emptyState');
    if (!container) return;

    if (examId === 'all' || !CUTOFF_DATA[examId] || CUTOFF_DATA[examId].length === 0) {
        container.innerHTML = `
            <i class="ph-duotone ph-magnifying-glass" style="font-size: 48px; margin-bottom: 10px;"></i>
            <p id="statusMsg">Enter details to search</p>
        `;
        return;
    }

    const data = CUTOFF_DATA[examId];
    const examDisplayName = EXAM_NAMES[examId] || "EXAM RESULT";

    const catCounts = {};
    data.forEach(item => {
        catCounts[item.cat] = (catCounts[item.cat] || 0) + 1;
    });

    let rowsHtml = '';
    let renderedCats = new Set(); 

    data.forEach((row, index) => {
        rowsHtml += `<tr>`;
        const isHorizontal = (row.sub === '' || row.sub === '-');

        if (!renderedCats.has(row.cat)) {
            const count = catCounts[row.cat];
            rowsHtml += `<td class="cat-main" rowspan="${count}" ${isHorizontal ? 'colspan="2"' : ''}>
                            ${row.cat}
                         </td>`;
            renderedCats.add(row.cat);
        }

        if (!isHorizontal) {
            rowsHtml += `<td class="cat-sub">${row.sub}</td>`;
        }

        rowsHtml += `<td class="val-marks">${row.marks}</td>`;
        rowsHtml += `<td class="val-rem">${row.rem}</td>`;
        rowsHtml += `</tr>`;
    });

    container.innerHTML = `
        <div class="cutoff-container">
            <div class="cutoff-header">
                ${examDisplayName} <br>
                <span style="font-size:0.8rem; font-weight:500;">NON-TSP AREA CUTOFF MARKS</span>
            </div>
            <table class="co-table">
                <thead>
                    <tr>
                        <th colspan="2">CATEGORY</th>
                        <th>Cutoff</th>
                        <th>REMARKS</th>
                    </tr>
                </thead>
                <tbody>
                    ${rowsHtml}
                </tbody>
            </table>
        </div>
    `;
}

// --- PATWAR 2025 DENSITY GRAPH DATA ---
const PATWAR_DENSITY = {
    marks: [300, 299, 298, 297, 296, 295, 294, 293, 292, 291, 290, 289, 288, 287, 286, 285, 284, 283, 282, 281, 280, 279, 278, 277, 276, 275, 274, 273, 272, 271, 270, 269, 268, 267, 266, 265, 264, 263, 262, 261, 260, 259, 258, 257, 256, 255, 254, 253, 252, 251, 250, 249, 248, 247, 246, 245, 244, 243, 242, 241, 240, 239, 238, 237, 236, 235, 234, 233, 232, 231, 230, 229, 228, 227, 226, 225, 224, 223, 222, 221, 220, 219, 218, 217, 216, 215, 214, 213, 212, 211, 210, 209, 208, 207, 206, 205, 204, 203, 202, 201, 200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181, 180, 179, 178, 177, 176, 175, 174, 173, 172, 171, 170, 169, 168, 167, 166, 165, 164, 163, 162, 161, 160, 159, 158, 157, 156, 155, 154, 153, 152, 151, 150, 149, 148, 147, 146, 145, 144, 143, 142, 141, 140, 139, 138, 137, 136, 135, 134, 133, 132, 131, 130, 129, 128, 127, 126, 125, 124, 123, 122, 121, 120, 119, 118, 117, 116, 115, 114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95, 94, 93, 92, 91, 90, 89, 88, 87, 86, 85, 84, 83, 82, 81, 80, 79, 78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0],
    density: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 4, 6, 4, 1, 7, 2, 7, 9, 9, 14, 14, 21, 24, 29, 36, 40, 67, 64, 60, 66, 98, 83, 138, 114, 152, 176, 187, 231, 214, 252, 268, 314, 324, 343, 387, 342, 454, 454, 469, 591, 535, 624, 653, 634, 806, 707, 832, 817, 891, 957, 906, 1023, 1107, 1048, 1122, 1157, 1196, 1329, 1237, 1388, 1432, 1419, 1563, 1550, 1717, 1558, 1736, 1675, 1893, 1756, 1975, 1917, 2065, 2107, 2099, 2257, 2132, 2272, 2295, 2331, 2311, 2473, 2414, 2537, 2463, 2545, 2698, 2768, 2741, 2866, 2746, 2876, 2979, 2925, 3171, 3102, 3123, 3185, 3175, 3301, 3268, 3418, 3424, 3357, 3443, 3492, 3478, 3487, 3735, 3560, 3725, 3700, 3718, 3777, 3775, 3928, 3942, 3961, 3879, 4075, 3906, 4126, 4079, 4048, 4353, 4149, 4200, 4206, 4330, 4322, 4340, 4266, 4217, 4445, 4216, 4562, 4415, 4361, 4673, 4359, 4426, 4676, 4503, 4380, 4638, 4407, 4685, 4543, 4433, 4643, 4510, 4613, 4653, 4446, 4529, 4622, 4440, 4497, 4730, 4282, 4574, 4527, 4452, 4562, 4340, 4407, 4396, 4323, 4292, 4448, 4192, 4276, 4370, 4098, 4104, 4212, 4098, 4211, 3886, 3932, 4076, 3943, 3881, 3984, 3710, 3752, 3806, 3514, 3725, 3474, 3507, 3601, 3287, 3251, 3357, 3097, 3087, 3117, 2946, 3020, 2869, 2708, 2827, 2622, 2449, 2640, 2530, 2360, 2478, 2150, 2350, 2125, 2018, 2073, 1941, 1821, 1902, 1791, 1668, 1674, 1519, 1428, 1469, 1312, 1298, 1315, 1117, 1211, 1047, 955, 1043, 897, 807, 934, 760, 690, 797, 615, 604, 643, 464, 564, 468, 431, 446, 344, 321, 334, 290, 295, 238, 182, 197, 216, 175, 175, 136, 111, 119, 108, 92, 76, 97, 56, 73, 68, 38, 69, 42, 38, 44, 27, 28, 17]
};
// --- VDO 2025 DENSITY GRAPH DATA (VERIFIED) ---
const VDO_DENSITY = {
    marks: [200, 199, 198, 197, 196, 195, 194, 193, 192, 191, 190, 189, 188, 187, 186, 185, 184, 183, 182, 181, 180, 179, 178, 177, 176, 175, 174, 173, 172, 171, 170, 169, 168, 167, 166, 165, 164, 163, 162, 161, 160, 159, 158, 157, 156, 155, 154, 153, 152, 151, 150, 149, 148, 147, 146, 145, 144, 143, 142, 141, 140, 139, 138, 137, 136, 135, 134, 133, 132, 131, 130, 129, 128, 127, 126, 125, 124, 123, 122, 121, 120, 119, 118, 117, 116, 115, 114, 113, 112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99, 98, 97, 96, 95, 94, 93, 92, 91, 90, 89, 88, 87, 86, 85, 84, 83, 82, 81, 80, 79, 78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68, 67, 66, 65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51, 50, 49, 48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0],
    density: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 3, 0, 2, 3, 5, 4, 11, 15, 14, 22, 39, 44, 46, 48, 74, 101, 86, 126, 145, 163, 225, 192, 263, 333, 307, 403, 447, 493, 632, 562, 635, 745, 758, 909, 823, 1075, 1106, 1160, 1315, 1287, 1419, 1538, 1505, 1698, 1785, 1845, 2103, 2085, 2202, 2280, 2294, 2604, 2532, 2616, 2844, 2862, 2921, 2970, 3106, 3415, 3290, 3524, 3636, 3609, 3914, 3954, 4081, 4221, 3996, 4493, 4540, 4510, 4741, 4544, 4921, 4946, 4959, 5166, 4811, 5358, 5329, 5173, 5358, 5028, 5594, 5505, 5316, 5604, 5159, 5358, 5573, 5338, 5588, 5282, 5281, 5585, 5336, 5527, 5071, 5137, 5251, 5120, 5285, 4953, 4995, 4835, 4902, 4731, 4514, 4738, 4331, 4551, 4332, 4136, 4359, 3953, 4220, 3902, 3593, 3855, 3472, 3540, 3353, 2995, 3321, 2870, 3042, 2920, 2674, 2657, 2413, 2453, 2321, 2149, 2197, 1884, 1909, 1787, 1623, 1522, 1440, 1417, 1246, 1173, 1148, 927, 917, 842, 800, 721, 601, 625, 504, 498, 469, 366, 369, 289, 280, 227, 213, 222, 138, 138, 130, 82, 122, 63, 71, 59, 47, 51, 24, 26, 24, 13, 19, 15, 11, 4, 7, 14]
};